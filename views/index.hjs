<!DOCTYPE html>
<html>
<head>
</head>

<body class="layout layout-header-fixed">
<!-- {{!--
<h1>{{ title }}</h1> --}} {{!--
<p>Welcome to {{ title }}</p> --}}-->
<div class="main pull-center">
    <h1>PayUBiz Payment Request Form </h1>
    <h2>PayU Form</h2>
    <br/> {{% if error %}}

    <span style="color:red">Please fill all mandatory fields.</span>
    <br/>
    <br/> {{% endif %}}
    <!--{{!-- here i have to add action as my serverlet which will handle this fomr --}} {{!--
  <form action='/payments' method="post" name="payuForm" class="contact1-form validate-form">{{% csrf_token %}} --}}-->
    <div class=" login-body">
        <form action='#' method="post" name="payuForm" class="form" id="submit_form">
            <table class="demo-form-wrapper form-group">
                <tr>
                    <td>
                        <b>Mandatory Parameters</b>
                    </td>
                </tr>
                <tr>
                    <td>Amount: </td>
                    <td>
                        <input name="amount" value="600.000" class="form-control" />
                    </td>
                    <td>First Name: </td>
                    <td>
                        <input name="firstname" id="firstname" value="Bismah Qadri" class="form-control" />
                    </td>
                </tr>
                <tr>
                    <td>Email: </td>
                    <td>
                        <input name="email" id="email" value="bismahqadri@gmail.com" class="form-control" type="email" />
                    </td>
                    <td>Phone: </td>
                    <td>
                        <input name="phone" value="9999999999" class="form-control" />
                    </td>
                </tr>
                <tr>
                    <td>Product Info: </td>
                    <td colspan="3">
                        <input name="productinfo" class="form-control" value="Testing pay u biz"/>
                    </td>
                </tr>
                </tr>
                <tr>
                    <td>
                        <b>Optional Parameters</b>
                    </td>
                </tr>
                <tr>
                    <td>Last Name: </td>
                    <td>
                        <input name="lastname" id="lastname" value="{{ posted.lastname }}" class="form-control" />
                    </td>
                </tr>
                <tr>
                    <td>Address1: </td>
                    <td>
                        <input name="address1" value="{{ posted.address1 }}" class="form-control" />
                    </td>
                    <td>Address2: </td>
                    <td>
                        <input name="address2" value="{{ posted.address2 }}" class="form-control" />
                    </td>
                </tr>
                <tr>
                    <td>City: </td>
                    <td>
                        <input name="city" value="{{ posted.city }}" class="form-control" />
                    </td>
                    <td>State: </td>
                    <td>
                        <input name="state" value="{{ posted.state }}" class="form-control" />
                    </td>
                </tr>
                <tr>
                    <td>Country: </td>
                    <td>
                        <input name="country" value="{{ posted.country }}" class="form-control" />
                    </td>
                    <td>Zipcode: </td>
                    <td>
                        <input name="zipcode" value="{{ posted.zipcode }}" class="form-control" />
                    </td>
                </tr>
                <!-- {{!-- <tr>
                <td>UDF1: </td>
                <td>
                  <input name="udf1" value="{{ posted.udf1 }}" />
                </td>
                <td>UDF2: </td>
                <td>
                  <input name="udf2" value="{{ posted.udf2 }}" />
                </td>
              </tr>
              <tr>
                <td>UDF3: </td>
                <td>
                  <input name="udf3" value="{{ posted.udf3 }}" />
                </td>
                <td>UDF4: </td>
                <td>
                  <input name="udf4" value="{{ posted.udf4 }}" />
                </td>
              </tr>
              <tr>
                <td>UDF5: </td>
                <td>
                  <input name="udf5" value="{{ posted.udf5 }}" />
                </td>
                <td>PG: </td>
                <td>
                  <input name="pg" value="{{ posted.PG }}" />
                </td>
              </tr> --}}-->

                <td colspan="4">
                    <input type="submit" value="Submit" class="btn btn-primary pull-right" data-toggle="modal" data-target="#paymentModal" />
                </td>


                </tr>
            </table>
        </form>
    </div>
</div>
<div id="paymentModal" class="modal in" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated bounceIn">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">Payment</h4>
            </div>
            <div class="modal-body form " style="margin-top: 40px">
                <form id="submitForm" action="" method="POST" enctype="multipart/form-data">
                    <input type="hidden" name="firstname" value="" />
                    <input type="hidden" name="lastname" value="" />
                    <input type="hidden" name="surl" value="" />
                    <input type="hidden" name="phone" value="" />
                    <input type="hidden" name="key" value="J0rC5a" />
                    <input type="hidden" name="hash" value = "" />
                    <input type="hidden" name="curl" value="" />
                    <input type="hidden" name="furl" value="" />
                    <input type="hidden" name="txnid" value="" />
                    <input type="hidden" name="productinfo" value="" />
                    <input type="hidden" name="amount" value="" />
                    <input type="hidden" name="email" value="" />

                    <br/>
                    <label>Are You Sure You Want To Continue?</label>
                    <input type= "submit" value="submit">

                </form>
        </div>
    </div>
</div>
</div>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#submit_form' ).submit( function( e ) {
            let data = {
                "firstname":"Bismah Qadri",
                "lastname":"",
                "phone":"9999999999",
                "productinfo":"Testing pay u biz",
                "amount":600.000,
                "email":"bismahqadri@gmail.com"
            }
            e.preventDefault();
            axios.post('/payUBiz',data).then(function (response) {
                $('#paymentModal').show()
               // console.log(response.data)
              /*  axios.post(`https://test.payu.in/_payment`,response.data, {
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                }).then((response)=>{
                    console.log(response.data)
                }).catch(function (err) {
                    console.log(err)
                })*/
            })
        })
    })
</script>
</body>
</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>